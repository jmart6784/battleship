(()=>{"use strict";var e={138:(e,o,t)=>{let r=document.querySelectorAll(".p1-board-tile"),l=document.querySelectorAll(".p2-board-tile");const s=e=>({coords:e});let i=s(["1A","1B","1C","1D"]),a=s(["3A","3B","3C"]),n=s(["5A","5B","5C"]),c=s(["7A","7B"]),d=s(["9A","9B"]),u=s(["2I","2J"]),p=s(["4J"]),m=s(["6J"]),y=s(["8J"]),f=s(["10J"]),E=s(["6I","7I","8I","9I"]),h=s(["9B","9C","9D"]),b=s(["2H","3H","4H"]),g=s(["1B","2B"]),B=s(["4A","4B"]),v=s(["1E","1F"]),C=s(["6E"]),T=s(["7B"]),k=s(["4F"]),A=s(["8F"]);const H=(e,o)=>(e=Math.ceil(e),o=Math.floor(o),Math.floor(Math.random()*(o-e+1))+e),I=(e,o,t)=>{let r=["1","2","3","4","5","6","7","8","9","10"],l=["A","B","C","D","E","F","G","H","I","J"],s=r[e]+l[o];if(t.moves.includes(s)){for(;t.moves.includes(s);)s=r[H(0,9)]+l[H(0,9)];return s}return s},M=(e,o,t,r,l,s)=>({name:e,isTurn:o,moves:t,ships:r,tiles:l,totalHP:s,aiMove:e=>{let o=document.querySelector(`[name="player1 ${e}"]`);return{player:o.name.split(" ")[0],coord:e,isEmpty:!o.classList[1],tile:o}}});let P=M("player1",!0,[],[i,a,n,c,d,u,p,m,y,f],r,20),L=M("player2",!1,[],[E,h,b,g,B,v,C,T,k,A],l,20);(()=>{P.tiles.forEach((o=>{o.onclick=()=>{let t=o.name.split(" "),r=t[0],l=t[1],s=!o.classList[1];P.isTurn||(o.disabled=!0,e({player:r,coord:l,isEmpty:s,tile:o}))}})),L.tiles.forEach((o=>{o.onclick=()=>{let t=o.name.split(" "),r=t[0],l=t[1],s=!o.classList[1];L.isTurn||(o.disabled=!0,e({player:r,coord:l,isEmpty:s,tile:o})),o.disabled=!0}}));const e=r=>{if(r.isEmpty)if(P.isTurn){P.moves.push(r.coord),P.isTurn=!1,L.isTurn=!0,r.tile.style.backgroundColor="gray";let o=I(H(0,9),H(0,9),L),t=L.aiMove(o);e(t)}else L.isTurn&&(L.moves.push(r.coord),P.isTurn=!0,L.isTurn=!1,r.tile.style.backgroundColor="gray");else if(r.tile.style.backgroundColor="red",console.log("getRedCount()",o()),P.isTurn)1===L.totalHP?t(P.name):L.totalHP-=1;else if(L.isTurn)if(20===o())t(L.name);else{P.totalHP-=1;let o=I(H(0,9),H(0,9),L),t=L.aiMove(o);e(t)}},o=()=>{let e=0;return r.forEach((o=>{"red"===o.style.backgroundColor&&e++})),e},t=e=>{P.tiles.forEach((e=>{e.disabled=!0})),L.tiles.forEach((e=>{e.disabled=!0})),document.getElementById("winner-name").innerHTML="player1"===e?"You Win!":"Enemy has won!",document.getElementById("winner-popup").style.display="block",document.getElementById("game-reset").addEventListener("click",(()=>{location.reload()}))};return{placePieces:()=>{P.ships.forEach((e=>{e.coords.forEach((e=>{P.tiles.forEach((o=>{o.name.split(" ")[1]===e&&(o.style.backgroundColor="blue",o.classList+=" occupied")}))}))})),L.ships.forEach((e=>{e.coords.forEach((e=>{L.tiles.forEach((o=>{o.name.split(" ")[1]===e&&(o.style.backgroundColor="blue",o.classList+=" occupied")}))}))}))},receiveAttack:e}})().placePieces()}},o={};function t(r){if(o[r])return o[r].exports;var l=o[r]={exports:{}};return e[r](l,l.exports,t),l.exports}t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t(138)})();